<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My App</title>

    <link rel="canonical" href="https://preview.keenthemes.com/metronic8" />
    <link rel="shortcut icon" th:href="@{/assets/media/logos/favicon.ico}" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
    <!-- Global CSS -->
    <link rel="stylesheet" th:href="@{/assets/plugins/custom/fullcalendar/fullcalendar.bundle.css}" />
    <link rel="stylesheet" th:href="@{/assets/plugins/global/plugins.bundle.css}" />
    <link rel="stylesheet" th:href="@{/assets/css/style.bundle.css}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <th:block layout:fragment="head"></th:block>
</head>

<body id="kt_body"
    class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fixed toolbar-tablet-and-mobile-fixed aside-enabled aside-fixed"
    style="
      --kt-toolbar-height: 55px;
      --kt-toolbar-height-tablet-and-mobile: 55px;
    ">
    <!--begin::Main-->
    <!--begin::Root-->
    <div class="d-flex flex-column flex-root">
        <!--begin::Page-->
        <div class="page d-flex flex-row flex-column-fluid">
            <!--begin::Aside-->
            <div id="kt_aside" class="aside aside-dark aside-hoverable" data-kt-drawer="true"
                data-kt-drawer-name="aside" data-kt-drawer-activate="{default: true, lg: false}"
                data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '300px': '250px'}"
                data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_aside_mobile_toggle">
                <!--begin::Brand-->
                <div class="aside-logo flex-column-auto" id="kt_aside_logo">
                    <!--begin::Logo-->
                    <a th:href="@{/empresa-anfitrion/editar/1}">
                        <img th:src="@{/assets/media/logos/logo-demo13-compact.svg}" alt="Logo"
                            class="logo rounded-circle" style="height: 50px; width: 50px; object-fit: cover;" />
                    </a>


                    <!--end::Logo-->
                    <!--begin::Aside toggler-->
                    <div id="kt_aside_toggle" class="btn btn-icon w-auto px-0 btn-active-color-primary aside-toggle"
                        data-kt-toggle="true" data-kt-toggle-state="active" data-kt-toggle-target="body"
                        data-kt-toggle-name="aside-minimize">
                        <!--begin::Svg Icon | path: icons/duotune/arrows/arr074.svg-->
                        <span class="svg-icon svg-icon-1 rotate-180">
                            <svg th:xmlns="@{http://www.w3.org/2000/svg}" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path
                                    d="M11.2657 11.4343L15.45 7.25C15.8642 6.83579 15.8642 6.16421 15.45 5.75C15.0358 5.33579 14.3642 5.33579 13.95 5.75L8.40712 11.2929C8.01659 11.6834 8.01659 12.3166 8.40712 12.7071L13.95 18.25C14.3642 18.6642 15.0358 18.6642 15.45 18.25C15.8642 17.8358 15.8642 17.1642 15.45 16.75L11.2657 12.5657C10.9533 12.2533 10.9533 11.7467 11.2657 11.4343Z"
                                    fill="black" />
                            </svg>
                        </span>
                        <!--end::Svg Icon-->
                    </div>
                    <!--end::Aside toggler-->
                </div>
                <!--end::Brand-->
                <!--begin::Aside menu-->
                <div class="aside-menu d-flex flex-column h-100">
                    <!--begin::Aside Menu Wrapper (Scroll area)-->
                    <div id="kt_aside_menu_wrapper" class="hover-scroll-overlay-y my-2 py-5 py-lg-8 flex-grow-1"
                        data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                        data-kt-scroll-height="auto" data-kt-scroll-dependencies="#kt_aside_logo, #kt_aside_footer"
                        data-kt-scroll-wrappers="#kt_aside_menu" data-kt-scroll-offset="0">

                        <!--begin::Menu-->
                        <div class="menu menu-column menu-title-gray-800 menu-state-title-primary 
                                    menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500"
                            id="kt_aside_menu" data-kt-menu="true">

                            <div class="menu-item">
                                <div class="menu-content pb-2">
                                    <span class="menu-section text-muted text-uppercase fs-8 ls-1">Dashboard</span>
                                </div>
                            </div>

                            <div class="menu-item">
                                <a class="menu-link"
                                    th:classappend="${active_page} == 'inicio' ? ' active text-danger' : ''"
                                    th:href="@{/dashboard}">
                                    <span class="menu-icon"><i class="bi bi-grid fs-3"></i></span>
                                    <span class="menu-title">Inicio</span>
                                </a>
                            </div>
                            <!-- GESTIÓN DE USUARIOS -->
<div data-kt-menu-trigger="click" class="menu-item menu-accordion"
th:classappend="${#strings.contains(active_page, 'usuario') || #strings.contains(active_page, 'rol') || #strings.contains(active_page, 'permiso')} ? ' show' : ''">

<span class="menu-link">
   <span class="menu-icon"><i class="bi bi-person-gear fs-3"></i></span>
   <span class="menu-title">Gestión de Usuarios</span>
   <span class="menu-arrow"></span>
</span>

<div class="menu-sub menu-sub-accordion menu-active-bg">
   <div class="menu-item">
       <a class="menu-link"
          th:classappend="${active_page} == 'empresa' ? 'active text-danger' : ''"
          th:href="@{/empresa}">
           <span class="menu-icon"><i class="bi bi-building fs-3"></i></span>
           <span class="menu-title">Empresas</span>
       </a>
   </div>
   <div class="menu-item">
       <a class="menu-link"
          th:classappend="${active_page} == 'usuario' ? 'active text-danger' : ''"
          th:href="@{/usuario}">
           <span class="menu-icon"><i class="bi bi-person fs-4"></i></span>
           <span class="menu-title">Usuarios</span>
       </a>
   </div>
   <div class="menu-item">
       <a class="menu-link"
          th:classappend="${active_page} == 'rol' ? 'active text-danger' : ''"
          th:href="@{/rol}">
           <span class="menu-icon"><i class="bi bi-shield-lock fs-4"></i></span>
           <span class="menu-title">Roles</span>
       </a>
   </div>
   <div class="menu-item">
       <a class="menu-link"
          th:classappend="${active_page} == 'permiso' ? 'active text-danger' : ''"
          th:href="@{/permiso}">
           <span class="menu-icon"><i class="bi bi-key fs-4"></i></span>
           <span class="menu-title">Permisos</span>
       </a>
   </div>
</div>
</div>

                                <!-- CLIENTES -->
                                <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                    th:classappend="${#strings.contains(active_page, 'cliente') || #strings.contains(active_page, 'categoria-cliente')} ? ' show' : ''">
                                    
                                    <span class="menu-link">
                                        <span class="menu-icon"><i class="bi bi-people fs-3"></i></span>
                                        <span class="menu-title">Clientes</span>
                                        <span class="menu-arrow"></span>
                                    </span>

                                    <div class="menu-sub menu-sub-accordion menu-active-bg">
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'categoria-cliente' ? 'active text-danger' : ''" th:href="@{/categoriaCliente}">
                                                <span class="menu-icon"><i class="bi bi-bookmark-star fs-4"></i></span>
                                                <span class="menu-title">Categorías de Cliente</span>
                                            </a>
                                        </div>
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'cliente' ? 'active text-danger' : ''" th:href="@{/cliente}">
                                                <span class="menu-icon"><i class="bi bi-person-badge fs-4"></i></span>
                                                <span class="menu-title">Clientes</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- PRODUCTOS -->
                                <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                    th:classappend="${#strings.contains(active_page, 'unidad-medida') || #strings.contains(active_page, 'categoria-producto')} ? ' show' : ''">

                                    <span class="menu-link">
                                        <span class="menu-icon"><i class="bi bi-box-seam fs-3"></i></span>
                                        <span class="menu-title">Productos</span>
                                        <span class="menu-arrow"></span>
                                    </span>

                                    <div class="menu-sub menu-sub-accordion menu-active-bg">
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'producto' ? 'active text-danger' : ''" th:href="@{/productos}">
                                                <span class="menu-icon"><i class="bi bi-tags fs-4"></i></span>
                                                <span class="menu-title">Productos</span>
                                            </a>
                                        </div>
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'categoria-producto' ? 'active text-danger' : ''" th:href="@{/categoriaProducto}">
                                                <span class="menu-icon"><i class="bi bi-tags fs-4"></i></span>
                                                <span class="menu-title">Categorías de Producto</span>
                                            </a>
                                        </div>
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'unidad-medida' ? 'active text-danger' : ''" th:href="@{/unidadMedida}">
                                                <span class="menu-icon"><i class="bi bi-rulers fs-4"></i></span>
                                                <span class="menu-title">Unidades de Medida</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- PROVEEDORES -->
                                <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                    th:classappend="${active_page} == 'proveedor' ? ' show' : ''">

                                    <span class="menu-link">
                                        <span class="menu-icon"><i class="bi bi-truck fs-3"></i></span>
                                        <span class="menu-title">Proveedores</span>
                                        <span class="menu-arrow"></span>
                                    </span>

                                    <div class="menu-sub menu-sub-accordion menu-active-bg">
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'proveedor' ? 'active text-danger' : ''" th:href="@{/proveedor}">
                                                <span class="menu-icon"><i class="bi bi-building-check fs-4"></i></span>
                                                <span class="menu-title">Listado de Proveedores</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- MOVIMIENTOS -->
                                <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                    th:classappend="${active_page} == 'tipo-movimiento' ? ' show' : ''">

                                    <span class="menu-link">
                                        <span class="menu-icon"><i class="bi bi-arrow-left-right fs-3"></i></span>
                                        <span class="menu-title">Movimientos</span>
                                        <span class="menu-arrow"></span>
                                    </span>

                                    <div class="menu-sub menu-sub-accordion menu-active-bg">
                                        <div class="menu-item">
                                            <a class="menu-link" th:classappend="${active_page} == 'tipo-movimiento' ? 'active text-danger' : ''" th:href="@{/tipoMovimiento}">
                                                <span class="menu-icon"><i class="bi bi-shuffle fs-4"></i></span>
                                                <span class="menu-title">Tipos de Movimiento</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>




                            


                            

                            <!-- EMPRESA -->
                            <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                th:classappend="${#strings.contains(active_page, 'empresa') || #strings.contains(active_page, 'sucursal') || #strings.contains(active_page, 'empleado') || #strings.contains(active_page, 'cargo')} ? ' show' : ''">

                                <span class="menu-link">
                                    <span class="menu-icon"><i class="bi bi-building fs-3"></i></span>
                                    <span class="menu-title">Empresa</span>
                                    <span class="menu-arrow"></span>
                                </span>

                                <div class="menu-sub menu-sub-accordion menu-active-bg">
                                    <!-- Datos de la empresa -->
                                    <div class="menu-item">
                                        <a class="menu-link"
                                            th:classappend="${active_page} == 'empresa' ? 'active text-danger' : ''"
                                            th:href="@{/empresa}">
                                            <span class="menu-icon"><i class="bi bi-info-circle fs-4"></i></span>
                                            <span class="menu-title">Datos de la empresa</span>
                                        </a>
                                    </div>


                                    <!-- EMPLEADOS (submenu) -->
                                    <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                        th:classappend="${#strings.contains(active_page, 'empleado') || #strings.contains(active_page, 'cargo')} ? ' show' : ''">

                                        <span class="menu-link">
                                            <span class="menu-icon"><i class="bi bi-people fs-4"></i></span>
                                            <span class="menu-title">Empleados</span>
                                            <span class="menu-arrow"></span>
                                        </span>

                                        <div class="menu-sub menu-sub-accordion menu-active-bg">
                                            <!-- Lista de empleados -->
                                            <div class="menu-item">
                                                <a class="menu-link"
                                                    th:classappend="${active_page} == 'empleado' ? 'active text-danger' : ''"
                                                    th:href="@{/empleado}">
                                                    <span class="menu-icon"><i
                                                            class="bi bi-person-lines-fill fs-5"></i></span>
                                                    <span class="menu-title">Lista de empleados</span>
                                                </a>
                                            </div>

                                            <!-- Cargos -->
                                            <div class="menu-item">
                                                <a class="menu-link"
                                                    th:classappend="${active_page} == 'cargo' ? 'active text-danger' : ''"
                                                    th:href="@{/cargo}">
                                                    <span class="menu-icon"><i class="bi bi-briefcase fs-5"></i></span>
                                                    <span class="menu-title">Cargos</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>


                                    <!-- Sucursales -->
                                    <div class="menu-item">
                                        <a class="menu-link"
                                            th:classappend="${active_page} == 'sucursal' ? 'active text-danger' : ''"
                                            th:href="@{/sucursal}">
                                            <span class="menu-icon"><i class="bi bi-geo-alt fs-4"></i></span>
                                            <span class="menu-title">Sucursales</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="menu-item">
                                <div class="menu-content pt-8 pb-2">
                                    <span class="menu-section text-muted text-uppercase fs-8 ls-1">Crafted</span>
                                </div>
                            </div>

                            <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                th:classappend="${#strings.contains(active_page, 'menu1')} ? ' show' : ''">

                                <span class="menu-link">
                                    <span class="menu-icon"><i class="bi bi-archive fs-3"></i></span>
                                    <span class="menu-title">Documentos de Entrada</span>
                                    <span class="menu-arrow"></span>
                                </span>

                                <div class="menu-sub menu-sub-accordion menu-active-bg">
                                    <div data-kt-menu-trigger="click" class="menu-item menu-accordion"
                                        th:classappend="${#strings.contains(active_page, 'submenu1')} ? ' show' : ''">

                                        <span class="menu-link">
                                            <span class="menu-bullet"><span class="bullet bullet-dot"></span></span>
                                            <span class="menu-title">Documentos de Seguimiento</span>
                                            <span class="menu-arrow"></span>
                                        </span>

                                        <div class="menu-sub menu-sub-accordion menu-active-bg">
                                            <div class="menu-item">
                                                <a class="menu-link"
                                                    th:classappend="${#strings.contains(active_page, 'visita')} ? ' active text-danger' : ''"
                                                    th:href="@{/visita}">
                                                    <span class="menu-bullet"><span
                                                            class="bullet bullet-dot"></span></span>
                                                    <span class="menu-title">Visitas</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end::Menu-->
                    </div>

                    <!--begin::Logout Button (Always visible)-->
                    <div id="kt_aside_footer" class="p-4">
                        <form th:action="@{/logout}" method="post">
                            <button type="submit" class="btn btn-danger w-100">
                                <i class="bi bi-box-arrow-right me-2"></i> Cerrar Sesión
                            </button>
                        </form>
                    </div>
                    <!--end::Logout Button-->
                </div>


                <!--end::Aside menu-->
            </div>
            <!--end::Aside-->
            <!--begin::Wrapper-->
            <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
                <!--begin::Header-->
                <div id="kt_header" class="header align-items-stretch">
                    <!--begin::Container-->
                    <div class="container-fluid d-flex align-items-stretch justify-content-between">
                        <!--begin::Aside mobile toggle-->
                        <div class="d-flex align-items-center d-lg-none ms-n3 me-1" title="Show aside menu">
                            <div class="btn btn-icon btn-active-color-white" id="kt_aside_mobile_toggle">
                                <i class="bi bi-list fs-1"></i>
                            </div>
                        </div>
                        <!--end::Aside mobile toggle-->
                        <!--begin::Mobile logo-->
                        <div class="d-flex align-items-center flex-grow-1 flex-lg-grow-0">
                            <a href="" class="d-lg-none">
                                <img alt="Logo" th:src="@{/assets/media/logos/logo-demo13-compact.svg}"
                                    class="h-25px" />
                            </a>
                        </div>
                        <!--end::Mobile logo-->
                        <!--begin::Wrapper-->
                        <div class="d-flex align-items-stretch justify-content-between flex-lg-grow-1">
                            <!--begin::Navbar-->
                            <div class="d-flex align-items-stretch" id="kt_header_nav">
                                <!--begin::Menu wrapper-->
                                <div class="header-menu align-items-stretch" data-kt-drawer="true"
                                    data-kt-drawer-name="header-menu"
                                    data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true"
                                    data-kt-drawer-width="{default:'200px', '300px': '250px'}"
                                    data-kt-drawer-direction="end" data-kt-drawer-toggle="#kt_header_menu_mobile_toggle"
                                    data-kt-swapper="true" data-kt-swapper-mode="prepend"
                                    data-kt-swapper-parent="{default: '#kt_body', lg: '#kt_header_nav'}">

                                </div>
                                <!--end::Menu wrapper-->
                            </div>
                            <!--end::Navbar-->
                            <!--begin::Topbar-->
                            <div class="d-flex align-items-stretch flex-shrink-0">
                                <!--begin::Toolbar wrapper-->
                                <div class="topbar d-flex align-items-stretch flex-shrink-0">
                                    <!--begin::User-->
                                    <div class="d-flex align-items-stretch" id="kt_header_user_menu_toggle">
                                        <!--begin::Menu wrapper-->
                                        <div class="topbar-item cursor-pointer symbol px-3 px-lg-5 me-n3 me-lg-n5 symbol-30px symbol-md-35px"
                                            data-kt-menu-trigger="click" data-kt-menu-attach="parent"
                                            data-kt-menu-placement="bottom-end" data-kt-menu-flip="bottom">
                                            <img th:src="${#authentication.principal.urlFoto != null and !#authentication.principal.urlFoto.isEmpty() 
                                                            ? #authentication.principal.urlFoto 
                                                            : '/images/user-default.png'}" alt="Usuario"
                                                class="rounded-circle" />

                                        </div>
                                        <!--begin::Menu-->
                                        <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px"
                                            data-kt-menu="true">
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-3">
                                                <div class="menu-content d-flex align-items-center px-3">
                                                    <!--begin::Avatar-->
                                                    <div class="symbol symbol-50px me-5">
                                                        <img alt="Foto de usuario" th:src="${#authentication.principal.urlFoto != null && !#authentication.principal.urlFoto.isEmpty() 
                                                                ? #authentication.principal.urlFoto 
                                                                : '/images/user-default.png'}"
                                                            class="rounded-circle" />
                                                    </div>

                                                    <!--end::Avatar-->
                                                    <!--begin::Username-->
                                                    <div class="d-flex flex-column">
                                                        <div class="fw-bolder d-flex align-items-center fs-5">
                                                            <span sec:authentication="principal.usuario"></span>
                                                            <span
                                                                class="badge badge-light-success fw-bolder fs-8 px-2 py-1 ms-2">Pro</span>
                                                        </div>
                                                        <a href="#"
                                                            class="fw-bold text-muted text-hover-primary fs-7"><span
                                                                sec:authentication="principal.correo"></span></a>
                                                    </div>
                                                    <!--end::Username-->
                                                </div>
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu separator-->
                                            <div class="separator my-2"></div>
                                            <!--end::Menu separator-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5">
                                                <a th:href="@{'/usuario/ver/' + ${#authentication.principal.idUsuario}}"
                                                    class="menu-link px-5">Mi Perfil</a>
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5">
                                                <a href="" class="menu-link px-5">
                                                    <span class="menu-text">My Projects</span>
                                                    <span class="menu-badge">
                                                        <span
                                                            class="badge badge-light-danger badge-circle fw-bolder fs-7">3</span>
                                                    </span>
                                                </a>
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5" data-kt-menu-trigger="hover"
                                                data-kt-menu-placement="left-start">
                                                <a href="#" class="menu-link px-5">
                                                    <span class="menu-title">My Subscription</span>
                                                    <span class="menu-arrow"></span>
                                                </a>
                                                <!--begin::Menu sub-->
                                                <div class="menu-sub menu-sub-dropdown w-175px py-4">
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link px-5">Referrals</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link px-5">Billing</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link px-5">Payments</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link d-flex flex-stack px-5">Statements
                                                            <i class="fas fa-exclamation-circle ms-2 fs-7"
                                                                data-bs-toggle="tooltip"
                                                                title="View your statements"></i></a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu separator-->
                                                    <div class="separator my-2"></div>
                                                    <!--end::Menu separator-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <div class="menu-content px-3">
                                                            <label
                                                                class="form-check form-switch form-check-custom form-check-solid">
                                                                <input class="form-check-input w-30px h-20px"
                                                                    type="checkbox" value="1" checked="checked"
                                                                    name="notifications" />
                                                                <span
                                                                    class="form-check-label text-muted fs-7">Notifications</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <!--end::Menu item-->
                                                </div>
                                                <!--end::Menu sub-->
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5">
                                                <a href="" class="menu-link px-5">My Statements</a>
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu separator-->
                                            <div class="separator my-2"></div>
                                            <!--end::Menu separator-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5" data-kt-menu-trigger="hover"
                                                data-kt-menu-placement="left-start">
                                                <a href="#" class="menu-link px-5">
                                                    <span class="menu-title position-relative">Language
                                                        <span
                                                            class="fs-8 rounded bg-light px-3 py-2 position-absolute translate-middle-y top-50 end-0">English
                                                            <img class="w-15px h-15px rounded-1 ms-2"
                                                                th:src="@{/assets/media/flags/united-states.svg}"
                                                                alt="" /></span></span>
                                                </a>
                                                <!--begin::Menu sub-->
                                                <div class="menu-sub menu-sub-dropdown w-175px py-4">
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link d-flex px-5 active">
                                                            <span class="symbol symbol-20px me-4">
                                                                <img class="rounded-1"
                                                                    th:src="@{/assets/media/flags/united-states.svg}"
                                                                    alt="" />
                                                            </span>English</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link d-flex px-5">
                                                            <span class="symbol symbol-20px me-4">
                                                                <img class="rounded-1"
                                                                    th:src="@{/assets/media/flags/spain.svg}" alt="" />
                                                            </span>Spanish</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link d-flex px-5">
                                                            <span class="symbol symbol-20px me-4">
                                                                <img class="rounded-1"
                                                                    th:src="@{/assets/media/flags/germany.svg}"
                                                                    alt="" />
                                                            </span>German</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link d-flex px-5">
                                                            <span class="symbol symbol-20px me-4">
                                                                <img class="rounded-1"
                                                                    th:src="@{/assets/media/flags/japan.svg}" alt="" />
                                                            </span>Japanese</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                    <!--begin::Menu item-->
                                                    <div class="menu-item px-3">
                                                        <a href="" class="menu-link d-flex px-5">
                                                            <span class="symbol symbol-20px me-4">
                                                                <img class="rounded-1"
                                                                    th:src="@{/assets/media/flags/france.svg}" alt="" />
                                                            </span>French</a>
                                                    </div>
                                                    <!--end::Menu item-->
                                                </div>
                                                <!--end::Menu sub-->
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5 my-1">
                                                <a href="" class="menu-link px-5">Account Settings</a>
                                            </div>
                                            <!--end::Menu item-->
                                            <!--begin::Menu item-->
                                            <!-- Botón personalizado que dispara el logout -->
                                            <div class="menu-item px-5">
                                                <a href="#" class="menu-link px-5"
                                                    onclick="document.getElementById('logoutForm').submit();">Sign
                                                    Out</a>
                                            </div>

                                            <!-- Formulario oculto de logout -->
                                            <form id="logoutForm" th:action="@{/logout}" method="post"
                                                style="display: none;"></form>
                                            <!--end::Menu item-->
                                            <!--begin::Menu separator-->
                                            <div class="separator my-2"></div>
                                            <!--end::Menu separator-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-5">
                                                <div class="menu-content px-5">
                                                    <label
                                                        class="form-check form-switch form-check-custom form-check-solid pulse pulse-success"
                                                        for="kt_user_menu_dark_mode_toggle">
                                                        <input class="form-check-input w-30px h-20px" type="checkbox"
                                                            value="1" name="mode" id="kt_user_menu_dark_mode_toggle"
                                                            data-kt-url="" />
                                                        <span class="pulse-ring ms-n1"></span>
                                                        <span class="form-check-label text-gray-600 fs-7">Dark
                                                            Mode</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <!--end::Menu item-->
                                        </div>
                                        <!--end::Menu-->
                                        <!--end::Menu wrapper-->
                                    </div>
                                    <!--end::User -->
                                    <!--begin::Heaeder menu toggle-->
                                    <div class="d-flex align-items-stretch d-lg-none px-3 me-n3"
                                        title="Show header menu">
                                        <div class="topbar-item" id="kt_header_menu_mobile_toggle">
                                            <i class="bi bi-text-left fs-1"></i>
                                        </div>
                                    </div>
                                    <!--end::Heaeder menu toggle-->
                                </div>
                                <!--end::Toolbar wrapper-->
                            </div>
                            <!--end::Topbar-->
                        </div>
                        <!--end::Wrapper-->
                    </div>
                    <!--end::Container-->
                </div>
                <!--end::Header-->
                <!--begin::Content-->
                <div class=" d-flex flex-column flex-column-fluid" id="kt_content">
                    <!--begin::Post-->
                    <div class="post d-flex flex-column-fluid" id="kt_post">
                        <!--begin::Container-->
                        <div id="kt_content_container" class="container-xxl">
                            <div layout:fragment="content"></div>
                        </div>
                        <!--end::Container-->
                    </div>
                    <!--end::Post-->
                </div>
                <!--end::Content-->
                <!--begin::Footer-->
                <div class="footer py-4 d-flex flex-lg-column" id="kt_footer">
                    <!--begin::Container-->
                    <div
                        class="container-fluid d-flex flex-column flex-md-row align-items-center justify-content-between">
                        <!--begin::Copyright-->
                        <div class="text-dark order-2 order-md-1">
                            <span class="text-muted fw-bold me-1">2025©</span>
                            <a href="" target="_blank" class="text-gray-800 text-hover-primary">Keenthemes</a>
                        </div>
                        <!--end::Copyright-->
                        <!--begin::Menu-->
                        <ul class="menu menu-gray-600 menu-hover-primary fw-bold order-1">
                            <li class="menu-item">
                                <a th:href="@{https://keenthemes.com}" target="_blank" class="menu-link px-2">About</a>
                            </li>
                            <li class="menu-item">
                                <a th:href="@{https://keenthemes.com/support}" target="_blank"
                                    class="menu-link px-2">Support</a>
                            </li>
                            <li class="menu-item">
                                <a th:href="@{https://1.envato.market/EA4JP}" target="_blank"
                                    class="menu-link px-2">Purchase</a>
                            </li>
                        </ul>
                        <!--end::Menu-->
                    </div>
                    <!--end::Container-->
                </div>
                <!--end::Footer-->
            </div>
            <!--end::Wrapper-->
        </div>
        <!--end::Page-->
    </div>
    <div layout:fragment="modal"></div>
    <!--end::Root-->
    <!--begin::Drawers-->
    <!--end::Drawers-->
    <!--begin::Modals-->
    <!--end::Modals-->
    <!--begin::Global Javascript Bundle(used by all pages)-->
    <!-- Scripts -->
    <!-- Bootstrap JS y Popper.js -->

    <!-- JS Extra -->
    <th:block layout:fragment="js"></th:block>


    <script>
        fetch('/usuario/roles-usuario')
            .then(response => response.json())
            .then(roles => {
                if (Array.isArray(roles)) {
                    const esAdmin = roles.some(r => r.nombreRol === 'ADMIN');
                    if (esAdmin) {

                    } else {

                    }
                } else {
                    console.error('La respuesta no es un arreglo:', roles);
                }
            })
            .catch(error => {
                console.error('Error al hacer la solicitud:', error);
            });

    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetch('/empresa-anfitrion/1')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('No se pudo obtener la empresa anfitrion');
                    }
                    return response.json();
                })
                .then(data => {
                    const logoUrl = data.logo;
                    if (logoUrl && logoUrl.trim() !== '') {
                        const logoImg = document.querySelector('img.logo');
                        if (logoImg) {
                            logoImg.src = logoUrl;
                        }
                    }
                })
                .catch(error => {
                    console.error('Error al cargar el logo de la empresa anfitrion:', error);
                });
        });
    </script>


    <script th:src="@{/assets/plugins/global/plugins.bundle.js}"></script>
    <script th:src="@{/assets/js/scripts.bundle.js}"></script>

    <!-- Custom JS -->
    <script th:src="@{/assets/plugins/custom/fullcalendar/fullcalendar.bundle.js}"></script>
    <script th:src="@{/assets/js/custom/widgets.js}"></script>
    <script th:src="@{/assets/js/custom/apps/chat/chat.js}"></script>
    <script th:src="@{/assets/js/custom/modals/create-app.js}"></script>
    <script th:src="@{/assets/js/custom/modals/upgrade-plan.js}"></script>






</body>

</html>